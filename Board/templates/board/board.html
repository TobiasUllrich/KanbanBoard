{% extends "base.html" %}
{% load static %}

{% block content %}
<script>
  let username = '{{ request.user.username }}';
  let token = '{{ csrf_token }}';
</script>
<script src="{% static 'js/board.js' %}"></script>
<link rel="stylesheet" href="{% static 'css/board.css' %}">


<div class="board-header">
  <div class="board-lists">To do</div>
  <div class="board-lists">In progress</div>
  <div class="board-lists">Awaiting feedback</div>
  <div class="board-lists">Done</div>
</div>

<div class="board-container">
 <!-- ToDos --> 
<div id="todo" class="drag-area" ondrop="moveTo('todo')" ondragover="allowDrop(event)">
  <div id="testbox" draggable="true" ondragstart="startDragging('1')">blublulbulbu</div>

  <!-- ZUM TESTEN --> 
  <div id="xxx">
    {% for todo in toDos reversed %}
    <div class="xxx">
      <span class="xxx">[{{ todo.ticket_description }}]</span>
      <span> {{ todo.ticket_title }}: </span> 
      <i> {{ todo.ticket_created_at }} </i>
    </div>
    {% endfor %}
  </div>
  <!-- ZUM TESTEN --> 

</div>
 <!-- InProgress --> 
<div id="inprogress" class="drag-area" ondrop="moveTo('inprogress')" ondragover="allowDrop(event)">
  <div id="testbox" draggable="true" ondragstart="startDragging('2')">zzzz</div></div>
<!-- AwaitingFeedback --> 
<div id="awaitingfeedback" class="drag-area" ondrop="moveTo('awaitingfeedback')" ondragover="allowDrop(event)"></div>
<!-- Done --> 
<div id="done" class="drag-area" ondrop="moveTo('done')" ondragover="allowDrop(event)"></div>
</div>

<!-- User registered? -->
{% if request.user.is_authenticated %}
<!-- Form -->
<form onsubmit="sendMessage(); return false" method="post">
  {% csrf_token %}
</form>
{% else %}
{% endif %}
<!-- User registered? -->


{% endblock %}
    
